<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>TommyDS</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="tommy.css" rel="stylesheet" type="text/css">

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-21967501-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>
<body>

<!-- Generated by Doxygen 1.7.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>tommyds/tommytree.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>AVL tree.  
<a href="#_details">More...</a></p>

<p><a href="tommytree_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtommy__tree__struct.html">tommy_tree_struct</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Tree container type.  <a href="structtommy__tree__struct.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structtommy__node__struct.html">tommy_node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a27510e549cc739277ee6353f78078a33">tommy_tree_node</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Tree node.  <a href="#a27510e549cc739277ee6353f78078a33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtommy__tree__struct.html">tommy_tree_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#adc6c9a39a18bbcffc29f045e15206b65">tommy_tree</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Tree container type.  <a href="#adc6c9a39a18bbcffc29f045e15206b65"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a3186f51ac0aa9ae7bc935372139b1156">tommy_tree_init</a> (<a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *tree, <a class="el" href="tommytypes_8h.html#a2e56e0b56065d3200e65f2a5518651d0">tommy_compare_func</a> *cmp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the tree.  <a href="#a3186f51ac0aa9ae7bc935372139b1156"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#acd33c3cdf61e66f2abde1ad19950f605">tommy_tree_insert</a> (<a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *tree, <a class="el" href="structtommy__node__struct.html">tommy_tree_node</a> *node, void *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts an element in the tree.  <a href="#acd33c3cdf61e66f2abde1ad19950f605"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a68c0260e6610c6c4afa4c3ab00d642b6">tommy_tree_remove</a> (<a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *tree, void *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches and removes an element.  <a href="#a68c0260e6610c6c4afa4c3ab00d642b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a8f6f20977234bcf3e7628c543591dbca">tommy_tree_search</a> (<a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *tree, void *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches an element in the tree.  <a href="#a8f6f20977234bcf3e7628c543591dbca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#af5e958d05fc46cfa04bf23aebe0bf891">tommy_tree_search_compare</a> (<a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *tree, <a class="el" href="tommytypes_8h.html#a2e56e0b56065d3200e65f2a5518651d0">tommy_compare_func</a> *cmp, void *cmp_arg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches an element in the tree with a specific comparison function.  <a href="#af5e958d05fc46cfa04bf23aebe0bf891"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a6dd2cb184a3e7b05f498a745aefccf91">tommy_tree_remove_existing</a> (<a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *tree, <a class="el" href="structtommy__node__struct.html">tommy_tree_node</a> *node)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an element from the tree.  <a href="#a6dd2cb184a3e7b05f498a745aefccf91"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#acdd184516d04924c71415ae5d9012cb0">tommy_tree_foreach</a> (<a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *tree, <a class="el" href="tommytypes_8h.html#a8caf78c4fb7706a85093f99598d61b5d">tommy_foreach_func</a> *func)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the specified function for each element in the tree.  <a href="#acdd184516d04924c71415ae5d9012cb0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a355f3335fb5e76144757e4aed2bb8684">tommy_tree_foreach_arg</a> (<a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *tree, <a class="el" href="tommytypes_8h.html#ae0aea577584dfbe750f078b3801d0ee6">tommy_foreach_arg_func</a> *func, void *arg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the specified function with an argument for each element in the tree.  <a href="#a355f3335fb5e76144757e4aed2bb8684"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a6d0fda970f9e4890beaf648fd2ace103">tommy_tree_count</a> (<a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *tree)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of elements.  <a href="#a6d0fda970f9e4890beaf648fd2ace103"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="tommytypes_8h.html#a32aad870b975610a257f9c2d14b0825e">tommy_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#aae7f4153d11cfff6f26b9f57a790ed60">tommy_tree_memory_usage</a> (<a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *tree)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of allocated memory.  <a href="#aae7f4153d11cfff6f26b9f57a790ed60"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>AVL tree. </p>
<p>This tree is a standard AVL tree implementation that stores elements in the order defined by the comparison function.</p>
<p>As difference than other tommy containers, duplicate elements cannot be inserted.</p>
<p>To initialize a tree you have to call <a class="el" href="tommytree_8h.html#a3186f51ac0aa9ae7bc935372139b1156" title="Initializes the tree.">tommy_tree_init()</a> specifing a comparison function that will define the order in the tree.</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="structtommy__tree__struct.html" title="Tree container type.">tommy_tree</a> tree;

 <a class="code" href="tommytree_8h.html#a3186f51ac0aa9ae7bc935372139b1156" title="Initializes the tree.">tommy_tree_init</a>(&amp;tree, cmp);
</pre></div><p>To insert elements in the tree you have to call <a class="el" href="tommytree_8h.html#acd33c3cdf61e66f2abde1ad19950f605" title="Inserts an element in the tree.">tommy_tree_insert()</a> for each element. In the insertion call you have to specify the address of the node and the address of the object. The address of the object is used to initialize the <a class="el" href="structtommy__node__struct.html#a6210792ec52fa1efbfb44cf4557d9b6f" title="Pointer to the object containing the node.">tommy_node::data</a> field of the node.</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>object {
     <span class="keywordtype">int</span> value;
     <span class="comment">// other fields</span>
     <a class="code" href="structtommy__node__struct.html" title="Data structure node.">tommy_tree_node</a> node;
 };

 <span class="keyword">struct </span>object* obj = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <span class="keywordtype">object</span>)); <span class="comment">// creates the object</span>

 obj-&gt;value = ...; <span class="comment">// initializes the object</span>

 <a class="code" href="tommytree_8h.html#acd33c3cdf61e66f2abde1ad19950f605" title="Inserts an element in the tree.">tommy_tree_insert</a>(&amp;tree, &amp;obj-&gt;node, obj); <span class="comment">// inserts the object</span>
</pre></div><p>To find and element in the tree you have to call <a class="el" href="tommytree_8h.html#a8f6f20977234bcf3e7628c543591dbca" title="Searches an element in the tree.">tommy_tree_search()</a> providing the key to search.</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>object value_to_find = { 1 };
 <span class="keyword">struct </span>object* obj = <a class="code" href="tommytree_8h.html#a8f6f20977234bcf3e7628c543591dbca" title="Searches an element in the tree.">tommy_tree_search</a>(&amp;tree, &amp;value_to_find);
 <span class="keywordflow">if</span> (!obj) {
     <span class="comment">// not found</span>
 } <span class="keywordflow">else</span> {
     <span class="comment">// found</span>
 }
</pre></div><p>To remove an element from the tree you have to call <a class="el" href="tommytree_8h.html#a68c0260e6610c6c4afa4c3ab00d642b6" title="Searches and removes an element.">tommy_tree_remove()</a> providing the key to search and remove.</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>object value_to_remove = { 1 };
 <span class="keyword">struct </span>object* obj = <a class="code" href="tommytree_8h.html#a68c0260e6610c6c4afa4c3ab00d642b6" title="Searches and removes an element.">tommy_tree_remove</a>(&amp;tree, &amp;value_to_remove);
 <span class="keywordflow">if</span> (obj) {
     free(obj); <span class="comment">// frees the object allocated memory</span>
 }
</pre></div><p>To destroy the tree you have to remove or destroy all the contained elements. The tree itself doesn't have or need a deallocation function.</p>
<p>If you need to iterate over all the elements in the tree, you can use <a class="el" href="tommytree_8h.html#acdd184516d04924c71415ae5d9012cb0" title="Calls the specified function for each element in the tree.">tommy_tree_foreach()</a> or <a class="el" href="tommytree_8h.html#a355f3335fb5e76144757e4aed2bb8684" title="Calls the specified function with an argument for each element in the tree.">tommy_tree_foreach_arg()</a>. If you need a more precise control with a real iteration, you have to insert all the elements also in a <a class="el" href="tommylist_8h.html#a45d098412d5f0be21113b252caee491b" title="Double linked list type.">tommy_list</a>, and use the list to iterate. See the <a class="el" href="multiindex.html">Tommy Multi Indexing</a> example for more detail. </p>
</div><hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a27510e549cc739277ee6353f78078a33"></a><!-- doxytag: member="tommytree.h::tommy_tree_node" ref="a27510e549cc739277ee6353f78078a33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structtommy__node__struct.html">tommy_node</a> <a class="el" href="structtommy__node__struct.html">tommy_tree_node</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tree node. </p>
<p>This is the node that you have to include inside your objects. </p>

</div>
</div>
<a class="anchor" id="adc6c9a39a18bbcffc29f045e15206b65"></a><!-- doxytag: member="tommytree.h::tommy_tree" ref="adc6c9a39a18bbcffc29f045e15206b65" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtommy__tree__struct.html">tommy_tree_struct</a>  <a class="el" href="structtommy__tree__struct.html">tommy_tree</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tree container type. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Don't use internal fields directly, but access the container only using functions. </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3186f51ac0aa9ae7bc935372139b1156"></a><!-- doxytag: member="tommytree.h::tommy_tree_init" ref="a3186f51ac0aa9ae7bc935372139b1156" args="(tommy_tree *tree, tommy_compare_func *cmp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tommy_tree_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a2e56e0b56065d3200e65f2a5518651d0">tommy_compare_func</a> *&#160;</td>
          <td class="paramname"><em>cmp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the tree. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">cmp</td><td>The comparison function that defines the orderin the tree. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acd33c3cdf61e66f2abde1ad19950f605"></a><!-- doxytag: member="tommytree.h::tommy_tree_insert" ref="acd33c3cdf61e66f2abde1ad19950f605" args="(tommy_tree *tree, tommy_tree_node *node, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tommy_tree_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtommy__node__struct.html">tommy_tree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inserts an element in the tree. </p>
<p>If the element is already present, it's not inserted again. Check the return value to identify if the element was already present or not. You have to provide the pointer of the node embedded into the object and the pointer to the object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Pointer to the node embedded into the object to insert. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the object to insert. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The element in the tree. Either the already existing one, or the one just inserted. </dd></dl>

</div>
</div>
<a class="anchor" id="a68c0260e6610c6c4afa4c3ab00d642b6"></a><!-- doxytag: member="tommytree.h::tommy_tree_remove" ref="a68c0260e6610c6c4afa4c3ab00d642b6" args="(tommy_tree *tree, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tommy_tree_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Searches and removes an element. </p>
<p>If the element is not found, 0 is returned. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Element used for comparison. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The removed element, or 0 if not found. </dd></dl>

</div>
</div>
<a class="anchor" id="a8f6f20977234bcf3e7628c543591dbca"></a><!-- doxytag: member="tommytree.h::tommy_tree_search" ref="a8f6f20977234bcf3e7628c543591dbca" args="(tommy_tree *tree, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tommy_tree_search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Searches an element in the tree. </p>
<p>If the element is not found, 0 is returned. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Element used for comparison. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The first element found, or 0 if none. </dd></dl>

</div>
</div>
<a class="anchor" id="af5e958d05fc46cfa04bf23aebe0bf891"></a><!-- doxytag: member="tommytree.h::tommy_tree_search_compare" ref="af5e958d05fc46cfa04bf23aebe0bf891" args="(tommy_tree *tree, tommy_compare_func *cmp, void *cmp_arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tommy_tree_search_compare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a2e56e0b56065d3200e65f2a5518651d0">tommy_compare_func</a> *&#160;</td>
          <td class="paramname"><em>cmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cmp_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Searches an element in the tree with a specific comparison function. </p>
<p>Like <a class="el" href="tommytree_8h.html#a8f6f20977234bcf3e7628c543591dbca" title="Searches an element in the tree.">tommy_tree_search()</a> but you can specify a different comparison function. Note that this function must define a suborder of the original one.</p>
<p>The ::data argument will be the first argument of the comparison function, and it can be of a different type of the objects in the tree. </p>

</div>
</div>
<a class="anchor" id="a6dd2cb184a3e7b05f498a745aefccf91"></a><!-- doxytag: member="tommytree.h::tommy_tree_remove_existing" ref="a6dd2cb184a3e7b05f498a745aefccf91" args="(tommy_tree *tree, tommy_tree_node *node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tommy_tree_remove_existing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtommy__node__struct.html">tommy_tree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes an element from the tree. </p>
<p>You must already have the address of the element to remove. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The <a class="el" href="structtommy__node__struct.html#a6210792ec52fa1efbfb44cf4557d9b6f" title="Pointer to the object containing the node.">tommy_node::data</a> field of the node removed. </dd></dl>

</div>
</div>
<a class="anchor" id="acdd184516d04924c71415ae5d9012cb0"></a><!-- doxytag: member="tommytree.h::tommy_tree_foreach" ref="acdd184516d04924c71415ae5d9012cb0" args="(tommy_tree *tree, tommy_foreach_func *func)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tommy_tree_foreach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a8caf78c4fb7706a85093f99598d61b5d">tommy_foreach_func</a> *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calls the specified function for each element in the tree. </p>
<p>The elements are processed in order.</p>
<p>You cannot add or remove elements from the inside of the callback, but can use it to deallocate them.</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="structtommy__tree__struct.html" title="Tree container type.">tommy_tree</a> tree;

 <span class="comment">// initializes the tree</span>
 <a class="code" href="tommytree_8h.html#a3186f51ac0aa9ae7bc935372139b1156" title="Initializes the tree.">tommy_tree_init</a>(&amp;tree, cmp);

 ...

 <span class="comment">// creates an object</span>
 <span class="keyword">struct </span>object* obj = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <span class="keywordtype">object</span>));

 ...

 <span class="comment">// insert it in the tree</span>
 <a class="code" href="tommytree_8h.html#acd33c3cdf61e66f2abde1ad19950f605" title="Inserts an element in the tree.">tommy_tree_insert</a>(&amp;tree, &amp;obj-&gt;node, obj);

 ...

 <span class="comment">// deallocates all the objects iterating the tree</span>
 <a class="code" href="tommytree_8h.html#acdd184516d04924c71415ae5d9012cb0" title="Calls the specified function for each element in the tree.">tommy_tree_foreach</a>(&amp;tree, free);
</pre></div> 
</div>
</div>
<a class="anchor" id="a355f3335fb5e76144757e4aed2bb8684"></a><!-- doxytag: member="tommytree.h::tommy_tree_foreach_arg" ref="a355f3335fb5e76144757e4aed2bb8684" args="(tommy_tree *tree, tommy_foreach_arg_func *func, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tommy_tree_foreach_arg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#ae0aea577584dfbe750f078b3801d0ee6">tommy_foreach_arg_func</a> *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calls the specified function with an argument for each element in the tree. </p>

</div>
</div>
<a class="anchor" id="a6d0fda970f9e4890beaf648fd2ace103"></a><!-- doxytag: member="tommytree.h::tommy_tree_count" ref="a6d0fda970f9e4890beaf648fd2ace103" args="(tommy_tree *tree)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a> tommy_tree_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the number of elements. </p>

</div>
</div>
<a class="anchor" id="aae7f4153d11cfff6f26b9f57a790ed60"></a><!-- doxytag: member="tommytree.h::tommy_tree_memory_usage" ref="aae7f4153d11cfff6f26b9f57a790ed60" args="(tommy_tree *tree)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tommytypes_8h.html#a32aad870b975610a257f9c2d14b0825e">tommy_size_t</a> tommy_tree_memory_usage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__tree__struct.html">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the size of allocated memory. </p>
<p>It includes the size of the <a class="el" href="tommytree_8h.html#a27510e549cc739277ee6353f78078a33" title="Tree node.">tommy_tree_node</a> of the stored elements. </p>

</div>
</div>
</div>
</body>
</html>
