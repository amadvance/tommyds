<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>TommyDS</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="tommy.css" rel="stylesheet" type="text/css">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-21967501-2']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_108ac671c162006792b32851db85b9de.html">tommyds</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">tommytree.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>AVL tree.  
<a href="#details">More...</a></p>

<p><a href="tommytree_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtommy__tree__struct.html">tommy_tree_struct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tree container type.  <a href="structtommy__tree__struct.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a27510e549cc739277ee6353f78078a33"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="tommytypes_8h.html#a1e8ddf0d3a75d9c875f08324c0d98628">tommy_node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a27510e549cc739277ee6353f78078a33">tommy_tree_node</a></td></tr>
<tr class="memdesc:a27510e549cc739277ee6353f78078a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tree node.  <a href="tommytree_8h.html#a27510e549cc739277ee6353f78078a33">More...</a><br /></td></tr>
<tr class="separator:a27510e549cc739277ee6353f78078a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d5d8b00c2e0c21372d490be7e59cc46"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtommy__tree__struct.html">tommy_tree_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a></td></tr>
<tr class="memdesc:a6d5d8b00c2e0c21372d490be7e59cc46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tree container type.  <a href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">More...</a><br /></td></tr>
<tr class="separator:a6d5d8b00c2e0c21372d490be7e59cc46"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aed4dfb10abd6efcf98ab6e325479f7f3"><td class="memItemLeft" align="right" valign="top">TOMMY_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#aed4dfb10abd6efcf98ab6e325479f7f3">tommy_tree_init</a> (<a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *tree, <a class="el" href="tommytypes_8h.html#a2e56e0b56065d3200e65f2a5518651d0">tommy_compare_func</a> *cmp)</td></tr>
<tr class="memdesc:aed4dfb10abd6efcf98ab6e325479f7f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the tree.  <a href="tommytree_8h.html#aed4dfb10abd6efcf98ab6e325479f7f3">More...</a><br /></td></tr>
<tr class="separator:aed4dfb10abd6efcf98ab6e325479f7f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704bd89d6f43caf2ac87fd185f30675a"><td class="memItemLeft" align="right" valign="top">TOMMY_API void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a704bd89d6f43caf2ac87fd185f30675a">tommy_tree_insert</a> (<a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *tree, <a class="el" href="tommytree_8h.html#a27510e549cc739277ee6353f78078a33">tommy_tree_node</a> *node, void *data)</td></tr>
<tr class="memdesc:a704bd89d6f43caf2ac87fd185f30675a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts an element in the tree.  <a href="tommytree_8h.html#a704bd89d6f43caf2ac87fd185f30675a">More...</a><br /></td></tr>
<tr class="separator:a704bd89d6f43caf2ac87fd185f30675a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad57c7384fc3cf12035490191945f92f7"><td class="memItemLeft" align="right" valign="top">TOMMY_API void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#ad57c7384fc3cf12035490191945f92f7">tommy_tree_remove</a> (<a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *tree, void *data)</td></tr>
<tr class="memdesc:ad57c7384fc3cf12035490191945f92f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches and removes an element.  <a href="tommytree_8h.html#ad57c7384fc3cf12035490191945f92f7">More...</a><br /></td></tr>
<tr class="separator:ad57c7384fc3cf12035490191945f92f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f11de4714ce58a9e0089da858dfc1f"><td class="memItemLeft" align="right" valign="top">TOMMY_API void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#af9f11de4714ce58a9e0089da858dfc1f">tommy_tree_search</a> (<a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *tree, void *data)</td></tr>
<tr class="memdesc:af9f11de4714ce58a9e0089da858dfc1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches an element in the tree.  <a href="tommytree_8h.html#af9f11de4714ce58a9e0089da858dfc1f">More...</a><br /></td></tr>
<tr class="separator:af9f11de4714ce58a9e0089da858dfc1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad062e700d7a88d26c1381515adf2a176"><td class="memItemLeft" align="right" valign="top">TOMMY_API void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#ad062e700d7a88d26c1381515adf2a176">tommy_tree_search_compare</a> (<a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *tree, <a class="el" href="tommytypes_8h.html#a2e56e0b56065d3200e65f2a5518651d0">tommy_compare_func</a> *cmp, void *cmp_arg)</td></tr>
<tr class="memdesc:ad062e700d7a88d26c1381515adf2a176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches an element in the tree with a specific comparison function.  <a href="tommytree_8h.html#ad062e700d7a88d26c1381515adf2a176">More...</a><br /></td></tr>
<tr class="separator:ad062e700d7a88d26c1381515adf2a176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35509762dd8b9bb02858df24d32a2cc2"><td class="memItemLeft" align="right" valign="top">TOMMY_API void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a35509762dd8b9bb02858df24d32a2cc2">tommy_tree_remove_existing</a> (<a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *tree, <a class="el" href="tommytree_8h.html#a27510e549cc739277ee6353f78078a33">tommy_tree_node</a> *node)</td></tr>
<tr class="memdesc:a35509762dd8b9bb02858df24d32a2cc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an element from the tree.  <a href="tommytree_8h.html#a35509762dd8b9bb02858df24d32a2cc2">More...</a><br /></td></tr>
<tr class="separator:a35509762dd8b9bb02858df24d32a2cc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d9d71f26d9d160e98ba55d88653bac4"><td class="memItemLeft" align="right" valign="top">TOMMY_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#a0d9d71f26d9d160e98ba55d88653bac4">tommy_tree_foreach</a> (<a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *tree, <a class="el" href="tommytypes_8h.html#a8caf78c4fb7706a85093f99598d61b5d">tommy_foreach_func</a> *func)</td></tr>
<tr class="memdesc:a0d9d71f26d9d160e98ba55d88653bac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the specified function for each element in the tree.  <a href="tommytree_8h.html#a0d9d71f26d9d160e98ba55d88653bac4">More...</a><br /></td></tr>
<tr class="separator:a0d9d71f26d9d160e98ba55d88653bac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af09d59b071d22cee9e11d818f85a73ca"><td class="memItemLeft" align="right" valign="top">TOMMY_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#af09d59b071d22cee9e11d818f85a73ca">tommy_tree_foreach_arg</a> (<a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *tree, <a class="el" href="tommytypes_8h.html#ae0aea577584dfbe750f078b3801d0ee6">tommy_foreach_arg_func</a> *func, void *arg)</td></tr>
<tr class="memdesc:af09d59b071d22cee9e11d818f85a73ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the specified function with an argument for each element in the tree.  <a href="tommytree_8h.html#af09d59b071d22cee9e11d818f85a73ca">More...</a><br /></td></tr>
<tr class="separator:af09d59b071d22cee9e11d818f85a73ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9556011c2af1954731de45ca8c3938b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tommytypes_8h.html#a898769f6c0236ab854368a0d93349ab9">tommy_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#ab9556011c2af1954731de45ca8c3938b">tommy_tree_count</a> (<a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *tree)</td></tr>
<tr class="memdesc:ab9556011c2af1954731de45ca8c3938b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of elements.  <a href="tommytree_8h.html#ab9556011c2af1954731de45ca8c3938b">More...</a><br /></td></tr>
<tr class="separator:ab9556011c2af1954731de45ca8c3938b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbdb7e8aa2992b438ee195494b65c8b8"><td class="memItemLeft" align="right" valign="top">TOMMY_API <a class="el" href="tommytypes_8h.html#a898769f6c0236ab854368a0d93349ab9">tommy_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytree_8h.html#adbdb7e8aa2992b438ee195494b65c8b8">tommy_tree_memory_usage</a> (<a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *tree)</td></tr>
<tr class="memdesc:adbdb7e8aa2992b438ee195494b65c8b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of allocated memory.  <a href="tommytree_8h.html#adbdb7e8aa2992b438ee195494b65c8b8">More...</a><br /></td></tr>
<tr class="separator:adbdb7e8aa2992b438ee195494b65c8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >AVL tree. </p>
<p >This tree is a standard AVL tree implementation that stores elements in the order defined by the comparison function.</p>
<p >As a difference from other tommy containers, duplicate elements cannot be inserted.</p>
<p >To initialize a tree you have to call <a class="el" href="tommytree_8h.html#aed4dfb10abd6efcf98ab6e325479f7f3" title="Initializes the tree.">tommy_tree_init()</a> specifying a comparison function that will define the order in the tree.</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structtommy__tree__struct.html">tommy_tree</a> tree;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="tommytree_8h.html#aed4dfb10abd6efcf98ab6e325479f7f3">tommy_tree_init</a>(&amp;tree, cmp);</div>
<div class="ttc" id="astructtommy__tree__struct_html"><div class="ttname"><a href="structtommy__tree__struct.html">tommy_tree_struct</a></div><div class="ttdoc">Tree container type.</div><div class="ttdef"><b>Definition:</b> tommytree.h:118</div></div>
<div class="ttc" id="atommytree_8h_html_aed4dfb10abd6efcf98ab6e325479f7f3"><div class="ttname"><a href="tommytree_8h.html#aed4dfb10abd6efcf98ab6e325479f7f3">tommy_tree_init</a></div><div class="ttdeci">TOMMY_API void tommy_tree_init(tommy_tree *tree, tommy_compare_func *cmp)</div><div class="ttdoc">Initializes the tree.</div></div>
</div><!-- fragment --><p >To insert elements in the tree you have to call <a class="el" href="tommytree_8h.html#a704bd89d6f43caf2ac87fd185f30675a" title="Inserts an element in the tree.">tommy_tree_insert()</a> for each element. In the insertion call you have to specify the address of the node and the address of the object. The address of the object is used to initialize the <a class="el" href="structtommy__node__struct.html#a6210792ec52fa1efbfb44cf4557d9b6f" title="Pointer to the object containing the node.">tommy_node::data</a> field of the node.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>object {</div>
<div class="line">    <span class="keywordtype">int</span> value;</div>
<div class="line">    <span class="comment">// other fields</span></div>
<div class="line">    <a class="code hl_struct" href="structtommy__node__struct.html">tommy_tree_node</a> node;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>object* obj = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <span class="keywordtype">object</span>)); <span class="comment">// creates the object</span></div>
<div class="line"> </div>
<div class="line">obj-&gt;value = ...; <span class="comment">// initializes the object</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="tommytree_8h.html#a704bd89d6f43caf2ac87fd185f30675a">tommy_tree_insert</a>(&amp;tree, &amp;obj-&gt;node, obj); <span class="comment">// inserts the object</span></div>
<div class="ttc" id="astructtommy__node__struct_html"><div class="ttname"><a href="structtommy__node__struct.html">tommy_node_struct</a></div><div class="ttdoc">Data structure node.</div><div class="ttdef"><b>Definition:</b> tommytypes.h:211</div></div>
<div class="ttc" id="atommytree_8h_html_a704bd89d6f43caf2ac87fd185f30675a"><div class="ttname"><a href="tommytree_8h.html#a704bd89d6f43caf2ac87fd185f30675a">tommy_tree_insert</a></div><div class="ttdeci">TOMMY_API void * tommy_tree_insert(tommy_tree *tree, tommy_tree_node *node, void *data)</div><div class="ttdoc">Inserts an element in the tree.</div></div>
</div><!-- fragment --><p >To find an element in the tree you have to call <a class="el" href="tommytree_8h.html#af9f11de4714ce58a9e0089da858dfc1f" title="Searches an element in the tree.">tommy_tree_search()</a> providing the key to search.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>object value_to_find = { 1 };</div>
<div class="line"><span class="keyword">struct </span>object* obj = <a class="code hl_function" href="tommytree_8h.html#af9f11de4714ce58a9e0089da858dfc1f">tommy_tree_search</a>(&amp;tree, &amp;value_to_find);</div>
<div class="line"><span class="keywordflow">if</span> (!obj) {</div>
<div class="line">    <span class="comment">// not found</span></div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="comment">// found</span></div>
<div class="line">}</div>
<div class="ttc" id="atommytree_8h_html_af9f11de4714ce58a9e0089da858dfc1f"><div class="ttname"><a href="tommytree_8h.html#af9f11de4714ce58a9e0089da858dfc1f">tommy_tree_search</a></div><div class="ttdeci">TOMMY_API void * tommy_tree_search(tommy_tree *tree, void *data)</div><div class="ttdoc">Searches an element in the tree.</div></div>
</div><!-- fragment --><p >To remove an element from the tree you have to call <a class="el" href="tommytree_8h.html#ad57c7384fc3cf12035490191945f92f7" title="Searches and removes an element.">tommy_tree_remove()</a> providing the key to search and remove.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>object value_to_remove = { 1 };</div>
<div class="line"><span class="keyword">struct </span>object* obj = <a class="code hl_function" href="tommytree_8h.html#ad57c7384fc3cf12035490191945f92f7">tommy_tree_remove</a>(&amp;tree, &amp;value_to_remove);</div>
<div class="line"><span class="keywordflow">if</span> (obj) {</div>
<div class="line">    free(obj); <span class="comment">// frees the object allocated memory</span></div>
<div class="line">}</div>
<div class="ttc" id="atommytree_8h_html_ad57c7384fc3cf12035490191945f92f7"><div class="ttname"><a href="tommytree_8h.html#ad57c7384fc3cf12035490191945f92f7">tommy_tree_remove</a></div><div class="ttdeci">TOMMY_API void * tommy_tree_remove(tommy_tree *tree, void *data)</div><div class="ttdoc">Searches and removes an element.</div></div>
</div><!-- fragment --><p >To destroy the tree you have to remove or destroy all the contained elements. The tree itself doesn't have or need a deallocation function.</p>
<p >If you need to iterate over all the elements in the tree, you can use <a class="el" href="tommytree_8h.html#a0d9d71f26d9d160e98ba55d88653bac4" title="Calls the specified function for each element in the tree.">tommy_tree_foreach()</a> or <a class="el" href="tommytree_8h.html#af09d59b071d22cee9e11d818f85a73ca" title="Calls the specified function with an argument for each element in the tree.">tommy_tree_foreach_arg()</a>. If you need a more precise control with a real iteration, you have to insert all the elements also in a <a class="el" href="tommylist_8h.html#a45d098412d5f0be21113b252caee491b" title="Doubly linked list type.">tommy_list</a>, and use the list to iterate. See the <a class="el" href="multiindex.html">Multi-Indexing: Searching Objects in Multiple Ways</a> example for more detail. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a27510e549cc739277ee6353f78078a33" name="a27510e549cc739277ee6353f78078a33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27510e549cc739277ee6353f78078a33">&#9670;&nbsp;</a></span>tommy_tree_node</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="tommytypes_8h.html#a1e8ddf0d3a75d9c875f08324c0d98628">tommy_node</a> <a class="el" href="tommytree_8h.html#a27510e549cc739277ee6353f78078a33">tommy_tree_node</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tree node. </p>
<p >This is the node that you have to include inside your objects. </p>

</div>
</div>
<a id="a6d5d8b00c2e0c21372d490be7e59cc46" name="a6d5d8b00c2e0c21372d490be7e59cc46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d5d8b00c2e0c21372d490be7e59cc46">&#9670;&nbsp;</a></span>tommy_tree</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtommy__tree__struct.html">tommy_tree_struct</a> <a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tree container type. </p>
<dl class="section note"><dt>Note</dt><dd>Don't use internal fields directly, but access the container only using functions. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aed4dfb10abd6efcf98ab6e325479f7f3" name="aed4dfb10abd6efcf98ab6e325479f7f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed4dfb10abd6efcf98ab6e325479f7f3">&#9670;&nbsp;</a></span>tommy_tree_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TOMMY_API void tommy_tree_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a2e56e0b56065d3200e65f2a5518651d0">tommy_compare_func</a> *&#160;</td>
          <td class="paramname"><em>cmp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmp</td><td>The comparison function that defines the order in the tree. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a704bd89d6f43caf2ac87fd185f30675a" name="a704bd89d6f43caf2ac87fd185f30675a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a704bd89d6f43caf2ac87fd185f30675a">&#9670;&nbsp;</a></span>tommy_tree_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TOMMY_API void * tommy_tree_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a27510e549cc739277ee6353f78078a33">tommy_tree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inserts an element in the tree. </p>
<p >If the element is already present, it's not inserted again. Check the return value to identify if the element was already present or not. You have to provide the pointer of the node embedded into the object and the pointer to the object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Pointer to the node embedded into the object to insert. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the object to insert. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The element in the tree. Either the already existing one, or the one just inserted. </dd></dl>

</div>
</div>
<a id="ad57c7384fc3cf12035490191945f92f7" name="ad57c7384fc3cf12035490191945f92f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad57c7384fc3cf12035490191945f92f7">&#9670;&nbsp;</a></span>tommy_tree_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TOMMY_API void * tommy_tree_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches and removes an element. </p>
<p >If the element is not found, 0 is returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Element used for comparison. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The removed element, or 0 if not found. </dd></dl>

</div>
</div>
<a id="af9f11de4714ce58a9e0089da858dfc1f" name="af9f11de4714ce58a9e0089da858dfc1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9f11de4714ce58a9e0089da858dfc1f">&#9670;&nbsp;</a></span>tommy_tree_search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TOMMY_API void * tommy_tree_search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches an element in the tree. </p>
<p >If the element is not found, 0 is returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Element used for comparison. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The first element found, or 0 if none. </dd></dl>

</div>
</div>
<a id="ad062e700d7a88d26c1381515adf2a176" name="ad062e700d7a88d26c1381515adf2a176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad062e700d7a88d26c1381515adf2a176">&#9670;&nbsp;</a></span>tommy_tree_search_compare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TOMMY_API void * tommy_tree_search_compare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a2e56e0b56065d3200e65f2a5518651d0">tommy_compare_func</a> *&#160;</td>
          <td class="paramname"><em>cmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cmp_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches an element in the tree with a specific comparison function. </p>
<p >Like <a class="el" href="tommytree_8h.html#af9f11de4714ce58a9e0089da858dfc1f" title="Searches an element in the tree.">tommy_tree_search()</a> but you can specify a different comparison function. Note that this function must define a suborder of the original one.</p>
<p >The ::data argument will be the first argument of the comparison function, and it can be of a different type than the objects in the tree. </p>

</div>
</div>
<a id="a35509762dd8b9bb02858df24d32a2cc2" name="a35509762dd8b9bb02858df24d32a2cc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35509762dd8b9bb02858df24d32a2cc2">&#9670;&nbsp;</a></span>tommy_tree_remove_existing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TOMMY_API void * tommy_tree_remove_existing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a27510e549cc739277ee6353f78078a33">tommy_tree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes an element from the tree. </p>
<p >You must already have the address of the element to remove. </p><dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="structtommy__node__struct.html#a6210792ec52fa1efbfb44cf4557d9b6f" title="Pointer to the object containing the node.">tommy_node::data</a> field of the node removed. </dd></dl>

</div>
</div>
<a id="a0d9d71f26d9d160e98ba55d88653bac4" name="a0d9d71f26d9d160e98ba55d88653bac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d9d71f26d9d160e98ba55d88653bac4">&#9670;&nbsp;</a></span>tommy_tree_foreach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TOMMY_API void tommy_tree_foreach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a8caf78c4fb7706a85093f99598d61b5d">tommy_foreach_func</a> *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls the specified function for each element in the tree. </p>
<p >The elements are processed in order.</p>
<p >You cannot add or remove elements from the inside of the callback, but can use it to deallocate them.</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structtommy__tree__struct.html">tommy_tree</a> tree;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// initializes the tree</span></div>
<div class="line"><a class="code hl_function" href="tommytree_8h.html#aed4dfb10abd6efcf98ab6e325479f7f3">tommy_tree_init</a>(&amp;tree, cmp);</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line"><span class="comment">// creates an object</span></div>
<div class="line">struct <span class="keywordtype">object</span>* obj = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <span class="keywordtype">object</span>));</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line"><span class="comment">// insert it in the tree</span></div>
<div class="line">tommy_tree_insert(&amp;tree, &amp;obj-&gt;node, obj);</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line"><span class="comment">// deallocates all the objects iterating the tree</span></div>
<div class="line">tommy_tree_foreach(&amp;tree, free);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="af09d59b071d22cee9e11d818f85a73ca" name="af09d59b071d22cee9e11d818f85a73ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af09d59b071d22cee9e11d818f85a73ca">&#9670;&nbsp;</a></span>tommy_tree_foreach_arg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TOMMY_API void tommy_tree_foreach_arg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#ae0aea577584dfbe750f078b3801d0ee6">tommy_foreach_arg_func</a> *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls the specified function with an argument for each element in the tree. </p>

</div>
</div>
<a id="ab9556011c2af1954731de45ca8c3938b" name="ab9556011c2af1954731de45ca8c3938b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9556011c2af1954731de45ca8c3938b">&#9670;&nbsp;</a></span>tommy_tree_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tommytypes_8h.html#a898769f6c0236ab854368a0d93349ab9">tommy_size_t</a> tommy_tree_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the number of elements. </p>

</div>
</div>
<a id="adbdb7e8aa2992b438ee195494b65c8b8" name="adbdb7e8aa2992b438ee195494b65c8b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbdb7e8aa2992b438ee195494b65c8b8">&#9670;&nbsp;</a></span>tommy_tree_memory_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TOMMY_API <a class="el" href="tommytypes_8h.html#a898769f6c0236ab854368a0d93349ab9">tommy_size_t</a> tommy_tree_memory_usage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tommytree_8h.html#a6d5d8b00c2e0c21372d490be7e59cc46">tommy_tree</a> *&#160;</td>
          <td class="paramname"><em>tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the size of allocated memory. </p>
<p >It includes the size of the <a class="el" href="tommytree_8h.html#a27510e549cc739277ee6353f78078a33" title="Tree node.">tommy_tree_node</a> of the stored elements. </p>

</div>
</div>
</div><!-- contents -->
</body>
</html>
